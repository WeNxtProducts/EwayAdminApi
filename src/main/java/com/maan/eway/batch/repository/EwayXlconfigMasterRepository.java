/*
 * Java domain class for entity "EwayXlconfigMaster" 
 * Created on 2023-05-11 ( Date ISO 2023-05-11 - Time 16:44:28 )
 * Generated by Telosys Tools Generator ( version 3.3.0 )
 */
 
 /*
 * Created on 2023-05-11 ( 16:44:28 )
 * Generated by Telosys ( http://www.telosys.org/ ) version 3.3.0
 */


package com.maan.eway.batch.repository;

import java.util.List;
import java.util.Map;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.JpaSpecificationExecutor;
import org.springframework.data.jpa.repository.Query;

import com.maan.eway.batch.entity.EwayXlconfigMaster;
import com.maan.eway.batch.entity.EwayXlconfigMasterId;
import com.maan.eway.bean.OneTimeTableDetails;
/**
 * <h2>EwayXlconfigMasterRepository</h2>
 *
 * createdAt : 2023-05-11 - Time 16:44:28
 * <p>
 * Description: "EwayXlconfigMaster" Repository
 */
 
 
 
public interface EwayXlconfigMasterRepository  extends JpaRepository<EwayXlconfigMaster,EwayXlconfigMasterId > , JpaSpecificationExecutor<EwayXlconfigMaster> {


	List<EwayXlconfigMaster> findByCompanyIdAndProductIdAndSectionIdAndTypeidAndStatusIgnoreCaseOrderByExcelColumnIndex(Integer companyId,
			Integer productId, Integer sectionId,Integer typeId, String status);

	@Query(nativeQuery = true, value = "select * from eway_xlconfig_master where COMPANY_ID=?1 and PRODUCT_ID=?2 and SECTION_ID=?3 and TYPEID=?4")
	public List<EwayXlconfigMaster> findXLConfigMasterByPk(String companyId, String productId,String sectionId, String typeId);

	@Query(nativeQuery = true, value = "select * from eway_xlconfig_master where COMPANY_ID=?1 and PRODUCT_ID=?2 and TYPEID=?3 AND FIELDID=?4")
	public EwayXlconfigMaster findByPK(String companyId, String productId, String typeId,String fieldId);

//	@Query(nativeQuery = true, value = "SELECT MAX(fieldid) FROM eway_xlconfig_master WHERE company_id=?1 AND product_id=?2 AND typeid=?3 GROUP BY typeid")
//	public Integer findMaxOfFieldId(String companyId, String productId, String typeId);

//	@Query(nativeQuery = true, value = "DELETE FROM eway_xlconfig_master WHERE company_id IN(1,2)")
//	public void delete();
	
	@Query(nativeQuery = true, value="SELECT ITEM_CODE,ITEM_VALUE FROM eway_list_item_value WHERE ITEM_TYPE='DATA_TYPES' AND STATUS='Y'")
	public List<Map<String,String>> getDataType();
	
	@Query(nativeQuery = true, value="SELECT * FROM one_time_table_details WHERE Item_id=?1 AND STATUS=?2 ORDER BY Item_Code ASC")
	List<OneTimeTableDetails> findColumn(Integer valueOf, String string);

	List<EwayXlconfigMaster> findByCompanyIdAndProductIdAndTypeidAndStatusOrderByFieldid(Integer companyId,
			Integer productId, Integer typeId, String status);

	List<EwayXlconfigMaster> findByCompanyIdAndProductIdAndSectionIdAndTypeidOrderByFieldid(Integer companyId, Integer productId,
			Integer sectionId,Integer typeId);

}
